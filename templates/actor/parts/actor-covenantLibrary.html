{{!-- magicBooks --}}
<ol class="items-list backSection">
  <li class="item flexrow item-header">
    <div class="item-image"></div>
    <div class="item-name">{{localize "arm5e.sheet.magicBooks"}}</div>
    <div class="item-controls">
      <a class="item-control item-create" title="Add book" data-type="book"><i class="fas fa-plus"></i></a>
    </div>
  </li>
  {{> "systems/arm5e/templates/generic/metalic-bar.html" }}
  {{#each system.magicBooks as |item id|}}
    <li class="item item-value flexrow flex-center" data-name="{{item.name}}" data-attribute="{{id}}"
      data-item-id="{{item._id}}">
      <div class="item-image"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24" /></div>
      <div class="flexrow flex-center">
        <span class="flexrow item-title width15">{{item.name}}</span>
        <span class="flexrow bold">{{localize "arm5e.sheet.type"}}:{{item.system.type~}} </span>
        {{#if (eq item.system.type "Summa")}}
          <span class="flexrow bold">{{localize "arm5e.sheet.level"}}: {{item.system.level}} </span>
        {{else}}
          <span class="flexrow bold"></span>
        {{/if}}
        <span class="flexrow bold">{{localize "arm5e.sheet.quality"}}: {{item.system.quality}} </span>
        <span class="flexrow bold">{{localize "arm5e.sheet.art"}}: {{#with (lookup @root.config.magic.arts
        item.system.topic.art)~}}{{label~}} {{/with}}</span>
      </div>
      <div class="item-controls">
        <a class="item-control item-edit" title="Edit book"><i class="icon-Icon_Edit"></i></a>
        <a class="item-control item-delete" title="Delete book"><i class="icon-Icon_Delete_Hand_Gesture"></i></a>
      </div>
    </li>
  {{/each}}
</ol>

{{!-- laboratoryTexts --}}
<ol class="items-list backSection margintop18">
  <li class="item flexrow item-header">
    <div class="item-image"></div>
    <div class="item-name">{{localize "arm5e.sheet.laboratoryTexts"}}</div>
    <div class="item-controls">
      <a class="item-control toggleHidden" title="Filter"><i class="fas fa-sort" data-hidden="laboratoryTexts"
          data-list="laboratoryTexts" {{{ui.labTextFilter}}}>
        </i>
      </a>
      <a class="item-control item-create" title="Add laboratoryText" data-type="laboratoryText"><i
          class="fas fa-plus"></i></a>
    </div>
  </li>
  {{> "systems/arm5e/templates/generic/metalic-bar.html" }}
  {{> "systems/arm5e/templates/actor/parts/hermeticFilter.html" list="laboratoryTexts" visibility=ui.labtTextFilterVisibility }}
  {{#each
  system.laboratoryTexts as |item id|}}
    <li class="item item-value flexrow flex-center" data-name="{{item.name}}" data-attribute="{{id}}"
      data-item-id="{{item._id}}">
      <div class="flexrow flex-center">
        <span class="flexrow item-title width15">
          {{localize (lookup @root.config.lab.labTextType item.system.type)~}} : {{item.name}} ( {{#with
        (lookup @root.config.magic.techniques item.system.technique.value)~}}{{label~}} {{/with}}
          {{#with (lookup @root.config.magic.forms item.system.form.value)~}}{{label~}} {{/with}} -
          {{item.system.level}} ) {{#if (eq item.system.ritual true )}} , {{localize
        "arm5e.sheet.ritual"}} {{/if}}
        </span>
      </div>
      <div class="item-controls">
        <a class="item-control item-edit" title="Edit laboratoryText"><i class="icon-Icon_Edit"></i></a>
        <a class="item-control item-delete" title="Delete laboratoryText"><i
            class="icon-Icon_Delete_Hand_Gesture"></i></a>
      </div>
    </li>
  {{/each}}
</ol>

{{!-- mundaneBooks --}}
<ol class="items-list backSection margintop18">
  <li class="item flexrow item-header">
    <div class="item-image"></div>
    <div class="item-name">{{localize "arm5e.sheet.mundaneBooks"}}</div>
    <!-- <div class="item-controls">
      <a class="item-control item-create" title="Add mundaneBook" data-type="book"><i class="fas fa-plus"></i></a>
    </div> -->
  </li>
  {{> "systems/arm5e/templates/generic/metalic-bar.html" }}
  {{#each system.mundaneBooks as |item id|}}
    <li class="item item-value flexrow flex-center" data-name="{{item.name}}" data-attribute="{{id}}"
      data-item-id="{{item._id}}">
      <div class="item-image"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24" /></div>
      <div class="flexrow flex-center">
        <span class="flexrow item-title width15">{{item.name}}</span>

        {{#if (eq item.system.topic.category "ability")}}
          <span class="flexrow bold">{{localize "arm5e.sheet.ability"}}:
            {{localize (lookup (lookup @root.config.ALL_ABILITIES item.system.topic.key) "mnemonic") option=item.system.topic.option}}
          </span>
        {{else}}
          <span class="flexrow bold">{{localize "arm5e.sheet.spell"}}:
            {{item.system.topic.spellName}}
          </span>
        {{/if}}
        <div class="flexrow">
          <span class="flexrow bold">{{localize "arm5e.sheet.type"}}: {{item.system.type~}} </span>
          {{#if (eq item.system.type "Summa")}}
            <span class="flexrow bold">{{localize "arm5e.sheet.level"}}: {{item.system.level}} </span>
          {{else}}
            <span class="flexrow bold"></span>
          {{/if}}
          <span class="flexrow bold">{{localize "arm5e.sheet.quality"}}: {{item.system.quality}} </span>
        </div>
      </div>
      <div class="item-controls">
        <a class="item-control item-edit" title="Edit mundaneBook"><i class="icon-Icon_Edit"></i></a>
        <a class="item-control item-delete" title="Delete mundaneBook"><i class="icon-Icon_Delete_Hand_Gesture"></i></a>
      </div>
    </li>
  {{/each}}
</ol>