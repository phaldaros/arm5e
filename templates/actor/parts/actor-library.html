<ol class="items-list backSection margintop18">
  <li class="item flexrow item-header ">
    <div class="item-image"></div>
    <div class="item-name book-topic" data-topic="topic-arts">{{localize "arm5e.sheet.topics.arts"}}</div>
    <div class="item-controls">
      <a class="item-control toggleHidden" title="Filter" data-category="bookTopics" data-hidden="artsTopics"
        data-list="artsTopics" {{{ui.artsTopicsFilter}}}><i class="fas fa-sort"></i></a>
      <a class="item-control item-create" title="Create book" data-type="book"><i class="fas fa-plus"></i></a>
    </div>
  </li>
  {{> "systems/arm5e/templates/generic/metalic-bar.html" }}
  {{> "systems/arm5e/templates/actor/parts/topicFilter.hbs" list="artsTopics" visibility=ui.artsFilterVisibility
      topics=config.magic.arts }}
  <div id="topic-arts" class="topic toggle-collapse">
    {{#each system.filteredArtsTopics as |item id|}}
      <li class="item item-value flexrow" data-name="{{item.book}}" data-index="{{item.index}}"
        data-item-id="{{item.id}}">
        <div class="item-image item-control item-edit"><img src="{{item.img}}" title="{{item.name}}" /></div>
        <div class="flexrow flex-center">
          <span class="flexrow item-title width15">{{item.book}}</span>
          <span class="flexrow bold">{{localize "arm5e.sheet.type"}}:{{item.type~}} </span>
          {{#if (eq item.type "Summa")}}
            <span class="flexrow bold">{{localize "arm5e.sheet.level"}}: {{item.level}} </span>
          {{else}}
            <span class="flexrow bold"></span>
          {{/if}}
          <span class="flexrow bold">{{localize "arm5e.sheet.quality"}}: {{item.quality}} </span>
          <span class="flexrow bold">{{localize "arm5e.sheet.art"}}: {{#with (lookup @root.config.magic.arts
        item.art)~}}{{label~}} {{/with}}</span>
        </div>
        <div class="item-controls">
          <a class="plan-reading" title='{{localize "arm5e.hints.read" item=(localize "arm5e.sheet.book")}}'
            data-index="{{item.index}}"><i class="icon-Icon_Readspell"></i></a>
          <a class="item-control book-edit" title="Edit book"><i class="icon-Icon_Edit"></i></a>
          <a class="item-control item-delete" title="Delete book"><i class="icon-Icon_Delete_Hand_Gesture"></i></a>
        </div>
      </li>
    {{/each}}
  </div>
</ol>
<ol class="items-list backSection margintop18">
  <li class="item flexrow item-header">
    <div class="item-image"></div>
    <div class="item-name book-topic" data-topic="topic-abilities">{{localize "arm5e.sheet.topics.abilities"}}</div>
    <div class="item-controls">
      <a class="item-control toggleHidden" title="Filter" data-category="bookTopics" data-hidden="abilitiesTopics"
        data-list="abilitiesTopics" {{{ui.abilitiesTopicsFilter}}}><i class="fas fa-sort"> </i> </a>
      <a class="item-control item-create" title="Add mundaneBook" data-type="book"><i class="fas fa-plus"></i></a>
    </div>
  </li>
  {{> "systems/arm5e/templates/generic/metalic-bar.html" }}
  {{> "systems/arm5e/templates/actor/parts/topicFilter.hbs" list="abilitiesTopics" visibility=ui.abilitiesFilterVisibility
  topics=config.LOCALIZED_ABILITIES}}
  <div id="topic-abilities" class="topic toggle-collapse">
    {{#each system.filteredMundaneTopics as |item id|}}

      <li class="item item-value flexrow flex-center" data-name="{{item.book}}" data-index="{{item.index}}"
        data-item-id="{{item.id}}">
        <div class="item-image item-control item-edit"><img src="{{item.img}}" title="{{item.name}}" /></div>
        <div class="flexrow flex-center">
          <span class="flexrow item-title width15">{{item.book}}</span>

          {{#if (eq item.category "ability")}}
            <span class="flexrow bold">{{localize "arm5e.sheet.ability"}}:
              {{localize (lookup (lookup @root.config.ALL_ABILITIES item.key) "mnemonic") option=item.option}}
            </span>
          {{/if}}
          <div class="flexrow">
            <span class="flexrow bold">{{localize "arm5e.sheet.type"}}: {{item.type~}} </span>
            {{#if (eq item.type "Summa")}}
              <span class="flexrow bold">{{localize "arm5e.sheet.level"}}: {{item.level}} </span>
            {{else}}
              <span class="flexrow bold"></span>
            {{/if}}
            <span class="flexrow bold">{{localize "arm5e.sheet.quality"}}: {{item.quality}} </span>
          </div>
        </div>
        <div class="item-controls">
          {{#if @root.system.isCharacter}}
            <a class="plan-reading" title='{{localize "arm5e.hints.read" item=(localize "arm5e.sheet.book")}}'
              data-index="{{item.index}}"><i class="icon-Icon_Readspell"></i></a>
          {{/if}}
          <a class="item-control book-edit" title="Edit book"><i class="icon-Icon_Edit"></i></a>
          <a class="item-control item-delete" title="Delete book"><i class="icon-Icon_Delete_Hand_Gesture"></i></a>
        </div>
      </li>
    {{/each}}
  </div>
</ol>
<ol class="items-list backSection margintop18">
  <li class="item flexrow item-header">
    <div class="item-image"></div>
    <div class="item-name book-topic" data-topic="topic-masteries">{{localize "arm5e.sheet.topics.masteries"}}</div>
    <div class="item-controls">
      <a class="item-control toggleHidden" title="Filter" data-category="bookTopics" data-hidden="masteriesTopics"
        data-list="masteriesTopics" {{{ui.masteriesTopicsFilter}}}><i class="fas fa-sort"></i></a>
      <a class="item-control item-create" title="Add spell mastery book" data-type="book"><i
          class="fas fa-plus"></i></a>
    </div>
  </li>
  {{> "systems/arm5e/templates/generic/metalic-bar.html" }}
  {{> "systems/arm5e/templates/actor/parts/hermeticFilter.hbs" category="bookTopics" list="masteriesTopics" visibility=ui.masteriesFilterVisibility topic=true}}
  <div id="topic-masteries" class="topic toggle-collapse">
    {{#each system.filteredMasteriesTopics as |item id|}}

      <li class="item item-value flexrow flex-center" data-name="{{item.book}}" data-index="{{item.index}}"
        data-item-id="{{item.id}}">
        <div class="item-image item-control item-edit"><img src="{{item.img}}" title="{{item.name}}" /></div>
        <div class="flexrow flex-center">
          <span class="flexrow item-title width15">{{item.book}}</span>

          <span class="flexrow bold">{{localize "arm5e.sheet.spell"}}:
            {{item.spellLabel}}
          </span>
          <div class="flexrow">
            <span class="flexrow bold">{{localize "arm5e.sheet.type"}}: {{item.type~}} </span>

            <span class="flexrow bold">{{localize "arm5e.sheet.quality"}}: {{item.quality}} </span>
          </div>
        </div>
        <div class="item-controls">
          {{#if @root.system.isCharacter}}
            <a class="plan-reading" title='{{localize "arm5e.hints.read" item=(localize "arm5e.sheet.book")}}'
              data-index="{{item.index}}"><i class="icon-Icon_Readspell"></i></a>
          {{/if}}
          <a class="item-control book-edit" title="Edit book"><i class="icon-Icon_Edit"></i></a>
          <a class="item-control item-delete" title="Delete book"><i class="icon-Icon_Delete_Hand_Gesture"></i></a>
        </div>
      </li>
    {{/each}}
  </div>
</ol>

{{!-- laboratoryTexts --}}
<ol class="items-list backSection margintop18">
  <li class="item flexrow item-header">
    <div class="item-image"></div>
    <div class="item-name">{{localize "arm5e.sheet.laboratoryTexts"}}</div>
    <div class="item-controls">
      <a class="item-control toggleHidden" title="Filter" data-category="hermetic" data-list="laboratoryTexts"><i
          class="fas fa-sort" data-hidden="laboratoryTexts" {{{ui.labTextFilter}}}>
        </i>
      </a>
      <a class="item-control item-create" title="Add laboratoryText" data-type="laboratoryText"><i
          class="fas fa-plus"></i></a>
    </div>
  </li>
  {{> "systems/arm5e/templates/generic/metalic-bar.html" }}
  {{> "systems/arm5e/templates/actor/parts/hermeticFilter.hbs" category="hermetic" list="laboratoryTexts" visibility=ui.labtTextFilterVisibility }}
  {{#each
  system.filteredLaboratoryTexts as |item id|}}
    <li class="item item-value flexrow flex-center" data-name="{{item.name}}" data-index="{{item.index}}"
      data-item-id="{{item.id}}">
      <div class="item-image item-control item-edit"><img src="{{item.img}}" title="{{item.name}}" /></div>
      <div class="flexrow flex-center">
        <span class="flexrow item-title width15">
          {{localize (lookup @root.config.lab.labTextType item.system.type)~}} : {{item.name}} ( {{#with
        (lookup @root.config.magic.techniques item.system.technique.value)~}}{{label~}} {{/with}}
          {{#with (lookup @root.config.magic.forms item.system.form.value)~}}{{label~}} {{/with}} -
          {{item.system.level}} ) {{#if (eq item.system.ritual true )}} , {{localize
        "arm5e.sheet.ritual"}} {{/if}}
        </span>
      </div>
      <div class="item-controls">
        {{#if @root.system.isCharacter}}
          <a class="study-labtext" title='{{localize "arm5e.hints.read" item=(localize "arm5e.sheet.book")}}'
            data-index="{{item.index}}"><i class="icon-Icon_Readspell"></i></a>
        {{/if}}
        <a class="item-control item-edit" title="Edit laboratoryText"><i class="icon-Icon_Edit"></i></a>
        <a class="item-control item-delete" title="Delete laboratoryText"><i
            class="icon-Icon_Delete_Hand_Gesture"></i></a>
      </div>
    </li>
  {{/each}}
</ol>